{% set name = "mosaic-clustering" %}
{% set version = "0.5.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/{{ name | replace('-', '_') }}-{{ version }}.tar.gz
  sha256: 684ce3598387ed2f67da7f75e0ffe0334fccf88955b9e8c884ad6e89790997fd

build:
  noarch: python
  entry_points:
    - mosaic = mosaic.__main__:main
  script: {{ PYTHON }} -m pip install . -vv
  number: 0

requirements:
  host:
    - pip
    - setuptools
    - python {{ python_min }}
  run:
    - beartype >=0.10.4
    - click >=7.0.0
    - leidenalg >=0.8.0
    - numpy >=2.0.0
    - pandas
    - matplotlib-base >=3.5.0
    - python >={{ python_min }}
    - python-igraph
    - scikit-learn
    - scipy

test:
  imports:
    - mosaic
  commands:
    - pip check
    - mosaic --help
  requires:
    - pip
    - python {{ python_min }}

about:
  home: https://github.com/moldyn/MoSAIC
  summary: Correlation based feature selection for molecular dynamics data
  license: MIT
  license_file: LICENSE
  description: |
    MoSAIC is an unsupervised method for correlation analysis which
    automatically detects the collective motion in MD simulation data, while
    simultaneously identifying uncorrelated coordinates as noise. Hence, it can
    be used as a feature selection scheme for Markov state modeling or simply
    to obtain a detailed picture of the key coordinates driving a biomolecular
    process. It is based on the Leiden community detection algorithm which is
    used to bring a correlation matrix in a block-diagonal form.
  doc_url: https://moldyn.github.io/MoSAIC/

extra:
  recipe-maintainers:
    - gegabo
    - braniii
